## 1.四元数表示
![](img/21.PNG)

![](img/22.PNG)

## 2.四元数取负
![](img/23.PNG)
![](img/24.PNG)

## 3.单位四元数
![](img/25.PNG)
> 根据四元数的几何意义可以得到，当旋转角度θ为360的偶数倍时，得到单位四位数[1,0],θ为360的奇数倍时，得到单位四位数[-1,0]

> 任何四元数q乘以单位四元数[1,0]得到q，乘以[-1,0]得到 -q.在数学上只有[1,0]为单位四元数，在几何上[1,0],[-1, 0]都为单位四元数

## 4.四元数大小
![](img/26.PNG)
![](img/27.PNG)

## 5.四元数的共轭与逆
> 共轭：
> ![](img/28.PNG)

> 逆:
> ![](img/29.PNG)
> ![](img/30.PNG)

> 对于表示旋转的四元数，即单位四元数，逆与共轭是等价的
> ![](img/31.PNG)

## 6.四元数运算
### 6.1乘法
四元数的积也称为哈密尔顿积,乘法顺序固定从右到左
![](img/32.PNG)

![](img/33.PNG)

四元数乘法与三维矢量旋转
![](img/34.PNG)
![](img/35.PNG)

四元数乘标量
![](img/41.PNG)
### 6.2"差"
在数学上，四元数的差更接近与除法
![](img/36.PNG)
![](img/37.PNG)
### 6.3点积
![](img/38.PNG)
### 6.4对数
![](img/39.PNG)
### 6.5指数
![](img/40.PNG)
### 6.6幂
> 公式：
> ![](img/42.PNG)

> 作用:
> ![](img/43.PNG)
> ![](img/44.PNG)
>> 理解：首先对四元数q[cos(a),sin(a)n]取对数得到[0,an],然后乘以标量t得到[0,atn],最后进行指数运算得到四元数q'[cos(at),sin(at)n],旋转角度扩大了t倍，旋转轴没有变

> 实现:
在实际的编程中，直接套用公式比较复杂，所以往往是先提取角度a，然后根据幂指数重新计算角度，然后重新计算四元数的w,(x,y,z)


## 7.四元数插值
### 7.1平滑插值Slerp
![](img/45.PNG)
### 7.2理论公式
![](img/46.PNG)
### 7.3常用公式
![](img/47.PNG)
![](img/48.PNG)

实现
> ![](img/49.PNG)
> ![](img/50.PNG)
> ![](img/51.PNG)
> ![](img/52.PNG)

## 参考
> * 3D数学基础：图形和游戏开发第2版